<rd-header>
  <rd-header-title title-text="Import files"></rd-header-title>
  <rd-header-content>
    <a ui-sref="docker.containers">Containers</a> &gt; <a ui-sref="docker.containers.container({id: ctrl.container.Id})">{{ ctrl.container.Name|trimcontainername }}</a> &gt; Import files
  </rd-header-content>
</rd-header>

<div class="row" authorization="DockerContainerPutContainerArchive">
  <div class="col-sm-12">
    <rd-widget>
      <rd-widget-body>
        <form class="form-horizontal">
          <!-- upload -->
          <div class="col-sm-12 form-section-title">
            Upload
          </div>
          <div class="form-group">
            <span class="col-sm-12 text-muted small">
              You can upload a tar archive containing your files. Accepted compressions: identity (no compression), gzip, bzip2, xz.
            </span>
          </div>
          <div class="form-group">
            <div class="col-sm-12">
              <button class="btn btn-sm btn-primary" ngf-select ngf-min-size="10" ngf-accept="'application/x-tar,application/x-gzip'" ng-model="ctrl.formValues.UploadFile">Select file</button>
              <span style="margin-left: 5px;">
                {{ ctrl.formValues.UploadFile.name }}
                <i class="fa fa-times red-icon" ng-if="!ctrl.formValues.UploadFile" aria-hidden="true"></i>
              </span>
            </div>
          </div>
          <!-- path-input -->
          <div class="form-group">
            <label for="container_path" class="col-sm-1 control-label text-left">Path</label>
            <div class="col-sm-11">
              <input type="text" class="form-control" ng-model="ctrl.formValues.Path" id="container_path" placeholder="/my/path/inside/container">
            </div>
          </div>
          <!-- !path-input -->
          <!-- !upload -->
          <!-- actions -->
          <div class="col-sm-12 form-section-title">
            Actions
          </div>
          <div class="form-group">
            <div class="col-sm-12">
              <button type="button" class="btn btn-primary btn-sm" ng-disabled="ctrl.state.actionInProgress || !ctrl.formValues.UploadFile || !ctrl.formValues.Path"
                ng-click="ctrl.uploadFiles()" button-spinner="ctrl.state.actionInProgress">
                <span ng-hide="ctrl.state.actionInProgress">Upload</span>
                <span ng-show="ctrl.state.actionInProgress">Files uploading in progress...</span>
              </button>
              <span class="text-danger" ng-if="ctrl.state.formValidationError" style="margin-left: 5px;">{{ ctrl.state.formValidationError }}</span>
            </div>
          </div>
          <!-- !actions -->
        </form>
      </rd-widget-body>
    </rd-widget>
  </div>
</div>