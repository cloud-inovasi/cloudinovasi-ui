<rd-header>
  <rd-header-title title="Create secret"></rd-header-title>
  <rd-header-content>
    <a ui-sref="secrets">Secrets</a> > Add secret
  </rd-header-content>
</rd-header>

<div class="row">
  <div class="col-lg-12 col-md-12 col-xs-12">
    <rd-widget>
      <rd-widget-body>
        <form class="form-horizontal">
          <!-- name-input -->
          <div class="form-group">
            <label for="secret_name" class="col-sm-1 control-label text-left">Name</label>
            <div class="col-sm-11">
              <input type="text" class="form-control" ng-model="formValues.Name" id="secret_name" placeholder="e.g. mySecret">
            </div>
          </div>
          <!-- !name-input -->
          <!-- secret-data -->
          <div class="form-group">
            <label for="secret_data" class="col-sm-1 control-label text-left">Secret</label>
            <div class="col-sm-11">
              <textarea class="form-control" rows="5" id="secret_data" ng-model="formValues.Data"></textarea>
              <p class="small text-muted">
                Secrets need to be base64 encoded. If your secret is already base64 encoded, please untick the box below.
              </p>
              <span class="small text-muted">
                <input type="checkbox" ng-model="formValues.encodeSecret" id="encodeSecret"/>
                <label for="encodeSecret">Encode secret</label>
              </span>
            </div>

          </div>
          <!-- !secret-data -->
          <!-- labels -->
          <div class="form-group">
            <label class="col-sm-1 control-label text-left">Labels</label>
            <div class="col-sm-11">
              <span class="label label-default interactive" ng-click="addLabel()">
                <i class="fa fa-plus-circle" aria-hidden="true"></i> label
              </span>
            </div>
            <!-- labels-input-list -->
            <div class="col-sm-offset-1 col-sm-11 form-inline" style="margin-top: 10px;">
              <div ng-repeat="label in formValues.Labels" style="margin-top: 2px;">
                <div class="input-group col-sm-5 input-group-sm">
                  <span class="input-group-addon">name</span>
                  <input type="text" class="form-control" ng-model="label.name" placeholder="e.g. com.example.foo">
                </div>
                <div class="input-group col-sm-5 input-group-sm">
                  <span class="input-group-addon">value</span>
                  <input type="text" class="form-control" ng-model="label.value" placeholder="e.g. bar">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="removeLabel($index)">
                      <i class="fa fa-minus" aria-hidden="true"></i>
                    </button>
                  </span>
                </div>
              </div>
            </div>
            <!-- !labels-input-list -->
          </div>
          <!-- !labels-->
        </form>
      </rd-widget-body>
    </rd-widget>
  </div>
</div>

<div class="row">
  <div class="col-lg-12 col-md-12 col-xs-12" style="text-align: center;">
    <div>
      <i id="createSecretSpinner" class="fa fa-cog fa-3x fa-spin" style="margin-bottom: 5px; display: none;"></i>
    </div>
    <button type="button" class="btn btn-default btn-lg" ng-disabled="!formValues.Name" ng-click="create()">Create</button>
    <a type="button" class="btn btn-default btn-lg" ui-sref="secrets">Cancel</a>
  </div>
</div>
